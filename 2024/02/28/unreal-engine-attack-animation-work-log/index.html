<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width"/>


<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Itim|Lobster.css">
  <meta name="description" content="Warning이 내용은 2019년에 작성된 내용입니다. TL:DR 마우스 클릭 시 공격 애니메이션 재생.  공격 애니메이션을 어떻게 추가할까 고민하다가 애니메이션 스테이트 머신에 적용할려고 했다.하지만 강좌를 찾는 도중에 이 강좌를 찾았다! https:&#x2F;&#x2F;youtu.be&#x2F;cWWuDf2ZUj0?list&#x3D;PLCeaAi_Ah78SEV2Q-iVuFbe6xOtQYH">
<meta property="og:type" content="article">
<meta property="og:title" content="언리얼 엔진에서의 공격 애니메이션 작업기">
<meta property="og:url" content="https://blog.keea.dev/2024/02/28/unreal-engine-attack-animation-work-log/index.html">
<meta property="og:site_name" content="Keea.Dev">
<meta property="og:description" content="Warning이 내용은 2019년에 작성된 내용입니다. TL:DR 마우스 클릭 시 공격 애니메이션 재생.  공격 애니메이션을 어떻게 추가할까 고민하다가 애니메이션 스테이트 머신에 적용할려고 했다.하지만 강좌를 찾는 도중에 이 강좌를 찾았다! https:&#x2F;&#x2F;youtu.be&#x2F;cWWuDf2ZUj0?list&#x3D;PLCeaAi_Ah78SEV2Q-iVuFbe6xOtQYH">
<meta property="og:locale" content="ko_KR">
<meta property="og:image" content="https://blog.keea.dev/images/unreal-engine-attack-animation-work-log.md/image.webp">
<meta property="og:image" content="https://blog.keea.dev/images/unreal-engine-attack-animation-work-log.md/atk.webp">
<meta property="og:image" content="https://blog.keea.dev/images/unreal-engine-attack-animation-work-log.md/image-2.webp">
<meta property="og:image" content="https://blog.keea.dev/images/unreal-engine-attack-animation-work-log.md/attack.webp">
<meta property="og:image" content="https://blog.keea.dev/images/unreal-engine-attack-animation-work-log.md/attack1.webp">
<meta property="og:image" content="https://blog.keea.dev/images/unreal-engine-attack-animation-work-log.md/image-3.webp">
<meta property="og:image" content="https://blog.keea.dev/images/unreal-engine-attack-animation-work-log.md/attack2.webp">
<meta property="og:image" content="https://blog.keea.dev/images/unreal-engine-attack-animation-work-log.md/image-4.webp">
<meta property="og:image" content="https://blog.keea.dev/images/unreal-engine-attack-animation-work-log.md/image-5.webp">
<meta property="og:image" content="https://blog.keea.dev/images/unreal-engine-attack-animation-work-log.md/image-6.webp">
<meta property="og:image" content="https://blog.keea.dev/images/unreal-engine-attack-animation-work-log.md/222.webp">
<meta property="og:image" content="https://blog.keea.dev/images/unreal-engine-attack-animation-work-log.md/333.webp">
<meta property="article:published_time" content="2024-02-28T11:51:37.000Z">
<meta property="article:modified_time" content="2025-08-16T07:02:03.005Z">
<meta property="article:author" content="keea">
<meta property="article:tag" content="ue4">
<meta property="article:tag" content="animation">
<meta property="article:tag" content="game">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.keea.dev/images/unreal-engine-attack-animation-work-log.md/image.webp">  <title>언리얼 엔진에서의 공격 애니메이션 작업기 | Keea.Dev</title>    <!-- Naver -->
<meta name="naver-site-verification" content="e8b552825571ddb64acddc5ed48fb819a0de57fc" />

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-E5BT0W34TG"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E5BT0W34TG');
</script>

<!-- Naver analytics -->
<script type="text/javascript" src="//wcs.naver.net/wcslog.js"></script>
<script type="text/javascript">
if(!wcs_add) var wcs_add = {};
wcs_add["wa"] = "7c4827c2e26f70";
if(window.wcs) {
  wcs_do();
}
</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.keea.dev/2024/02/28/unreal-engine-attack-animation-work-log/"},"headline":"언리얼 엔진에서의 공격 애니메이션 작업기","image":[],"datePublished":"2024-02-28T11:51:37.000Z","dateModified":"2025-08-16T07:02:03.005Z","author":{"@type":"Person","name":"keea"},"publisher":{"@type":"Organization","name":"keea","logo":{"@type":"ImageObject","url":"https://blog.keea.dev/images/avatar.jpeg"}}}</script><link rel="stylesheet" type="text/css" href="/css/injector/main.css" /><link rel="preload" as="style" href="/css/injector/light.css" /><link rel="preload" as="style" href="/css/injector/dark.css" /><link rel="preload" as="style" href="/css/injector/auto.css" /><meta name="generator" content="Hexo 7.0.0"><link rel="alternate" href="/rss2.xml" title="Keea.Dev" type="application/rss+xml">
</head>

<body>

    
  <header class="main-header">
    <div class="header-inner card"><div class="brand">
  <div class="site-meta">
    <div class="custom-logo-site-title">
      <a href="/">
        <span class="site-title">Keea.Dev</span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button>
      <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"></path></svg>    </button>
  </div>
</div>
<nav class="site-nav">
  <ul class="menu">
    <li class="menu-item menu-item-home"><a href="/"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="home" class="svg-inline--fa fa-home icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="tags" class="svg-inline--fa fa-tags icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"></path></svg>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="th" class="svg-inline--fa fa-th icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M149.333 56v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zm181.334 240v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm32-240v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24zm-32 80V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm-205.334 56H24c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm386.667-56H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm0 160H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zM181.333 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24z"></path></svg>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="archive" class="svg-inline--fa fa-archive icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 448c0 17.7 14.3 32 32 32h384c17.7 0 32-14.3 32-32V160H32v288zm160-212c0-6.6 5.4-12 12-12h104c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-8zM480 32H32C14.3 32 0 46.3 0 64v48c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16V64c0-17.7-14.3-32-32-32z"></path></svg>Archives</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>Search</a></li>  </ul>
</nav>
</div>
  </header>

  <div class="flex-container">

    

<aside class="sidebar">

  <div class="header-inner card">
    <div class="brand">
  <div class="site-meta">
    <div class="custom-logo-site-title">
      <a href="/">
        <span class="site-title">Keea.Dev</span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button>
      <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"></path></svg>    </button>
  </div>
</div>
<nav class="site-nav">
  <ul class="menu">
    <li class="menu-item menu-item-home"><a href="/"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="home" class="svg-inline--fa fa-home icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="tags" class="svg-inline--fa fa-tags icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"></path></svg>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="th" class="svg-inline--fa fa-th icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M149.333 56v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zm181.334 240v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm32-240v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24zm-32 80V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm-205.334 56H24c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm386.667-56H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm0 160H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zM181.333 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24z"></path></svg>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="archive" class="svg-inline--fa fa-archive icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 448c0 17.7 14.3 32 32 32h384c17.7 0 32-14.3 32-32V160H32v288zm160-212c0-6.6 5.4-12 12-12h104c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-8zM480 32H32C14.3 32 0 46.3 0 64v48c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16V64c0-17.7-14.3-32-32-32z"></path></svg>Archives</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>Search</a></li>  </ul>
</nav>
  </div>

  <div class="sidebar-inner card">

    

    <ul class="sidebar-nav">
      <li class="sidebar-nav-toc sidebar-nav-active">
        Table of Contents
      </li>
      <li class="sidebar-nav-overview">
        Overview
      </li>
    </ul>
    <div class="post-toc-wrap sidebar-panel sidebar-panel-active">
      <div class="post-toc"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#TL-DR"><span class="nav-number">1.</span> <span class="nav-text">TL:DR</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EB%AA%BD%ED%83%80%EC%A3%BC-%EC%B6%94%EA%B0%80"><span class="nav-number">2.</span> <span class="nav-text">몽타주 추가</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EB%AA%BD%ED%83%80%EC%A3%BC-%EC%8B%A4%ED%96%89-%ED%95%A8%EC%88%98"><span class="nav-number">3.</span> <span class="nav-text">몽타주 실행 함수</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%ED%82%A4-%EB%A7%B5%ED%95%91"><span class="nav-number">4.</span> <span class="nav-text">키 맵핑</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EA%B2%80%EC%97%90-%EC%BD%9C%EB%9D%BC%EC%9D%B4%EB%8D%94-%EC%B6%94%EA%B0%80"><span class="nav-number">5.</span> <span class="nav-text">검에 콜라이더 추가.</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EC%BD%A4%EB%B3%B4-%EA%B3%B5%EA%B2%A9-%EB%A7%8C%EB%93%A4%EA%B8%B0"><span class="nav-number">6.</span> <span class="nav-text">콤보 공격 만들기</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EB%AA%BD%ED%83%80%EC%A3%BC-%EB%B0%B0%EC%97%B4-%EC%A0%95%EC%9D%98"><span class="nav-number">6.1.</span> <span class="nav-text">몽타주 배열 정의</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Interface-Class-%EC%A0%9C%EC%9E%91"><span class="nav-number">6.2.</span> <span class="nav-text">Interface Class 제작</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EC%97%AC%EB%8B%B4"><span class="nav-number">7.</span> <span class="nav-text">여담</span></a></li></ol></div>
    </div>
    <div class="site-overview-wrap sidebar-panel">
      <div class="site-overview">
  <div class="site-author">
    
    <img class="site-author-image" src="/images/avatar.jpeg"
      alt="keea" />
    
    <p class="site-author-name">keea</p>
    <div class="site-description">내 마음 끌리는 대로 개발</div>
  </div>

  <nav class="site-state">
    
    <div class="site-state-item site-state-posts">
      <a href="/archives/">
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">posts</span>
      </a>
    </div>
    

    
    <div class="site-state-item site-state-categories">
      <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">categories</span>
      </a>
    </div>
    

    
    <div class="site-state-item site-state-tags">
      <a href="/tags/">
        <span class="site-state-item-count">38</span>
        <span class="site-state-item-name">tags</span>
      </a>
    </div>
    
  </nav>

  <div class="social-links"><a href="/rss2.xml" title="/rss2.xml" rel="noopener" target="_blank"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="rss" class="svg-inline--fa fa-rss icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"></path></svg></a><a href="https://github.com/keea" title="https://github.com/keea" rel="noopener" target="_blank"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></div>
</div>
    </div>

    

  </div>
</aside>

    <div class="flex-main">

      <main>
        
        <div id="content" class="content">
          <div>
  

<article class="post post-type-normal">
  <div class="card post-block">

    

    <header class="post-header">

      
      <h1 class="post-title">
        
        언리얼 엔진에서의 공격 애니메이션 작업기
        
      </h1>
      

      <div class="post-meta">

  
  
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="calendar" class="svg-inline--fa fa-calendar icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z"></path></svg>
    </span>
    <span class="post-meta-item-text">Posted on</span>
    <time title="Created: 2024-02-28 20:51:37">2024-02-28</time>
  </span>
  

  

  
  
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="folder" class="svg-inline--fa fa-folder icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"></path></svg>
    </span>
    <span class="post-meta-item-text">In</span>
    <span><a href="/categories/%EA%B3%BC%EA%B1%B0%EC%9D%98-%EC%9E%94%EC%9E%AC/" rel="index"><span>과거의 잔재</span></a></span>  </span>
  

  
  

</div>

    </header>

    <div class="post-body">
      
      <div class="note warning"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="exclamation-circle" class="svg-inline--fa fa-exclamation-circle icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"></path></svg><header>Warning</header><p>이 내용은 2019년에 작성된 내용입니다.</p></div>
<h2 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL:DR"></a>TL:DR</h2><blockquote>
<p>마우스 클릭 시 공격 애니메이션 재생.</p>
</blockquote>
<p>공격 애니메이션을 어떻게 추가할까 고민하다가 애니메이션 스테이트 머신에 적용할려고 했다.<br>하지만 강좌를 찾는 도중에 이 강좌를 찾았다!</p>
<p><a target="_blank" rel="noopener" href="https://youtu.be/cWWuDf2ZUj0?list=PLCeaAi_Ah78SEV2Q-iVuFbe6xOtQYH6sH">https://youtu.be/cWWuDf2ZUj0?list=PLCeaAi_Ah78SEV2Q-iVuFbe6xOtQYH6sH</a></p>
<h2 id="몽타주-추가"><a href="#몽타주-추가" class="headerlink" title="몽타주 추가"></a>몽타주 추가</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//melee attack montage</span><br><span class="hljs-built_in">UPROPERTY</span>(EditDefaultsOnly, BlueprintReadOnly, Category = Animation, meta = (AllowPrivateAccess = <span class="hljs-string">&quot;true&quot;</span>))<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">UAnimMontage</span>* MeleeAttackMontage;<br></code></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//몽타주 읽기.</span><br><span class="hljs-function"><span class="hljs-type">static</span> ConstructorHelpers::FObjectFinder&lt;UAnimMontage&gt; <span class="hljs-title">MeleeAttackMontageObject</span><span class="hljs-params">(TEXT(<span class="hljs-string">&quot;AnimMontage&#x27;/Game/Animation/PrimaryAttack_C_Slow_Montage1.PrimaryAttack_C_Slow_Montage1&#x27;&quot;</span>))</span></span>;<br><br><span class="hljs-keyword">if</span> (MeleeAttackMontageObject.<span class="hljs-built_in">Succeeded</span>()) &#123;<br>		MeleeAttackMontage = MeleeAttackMontageObject.Object;<br>    &#125;<br></code></pre></td></tr></table></figure>
<p>몽타주는 기존에 있는 것을 팔라곤 에셋인 것을 사용하기로 하고 몽타주는 따로 제작하지 않았다.<br>몽타주를 읽기 위해서 프로젝트 폴더내에 있는 몽타주를 가져와서 읽는데 경로는 해당하는 레퍼런스 복사를 누르면 된다.</p>
<blockquote>
<p>20.06 나중에 리소스 삭제할려고 할 때 레퍼런스 참조로 삭제가 힘들게 뜬다. 삭제한다고 하면, 나중에 컴파일 때 엔진이 크래시나는 문제가 있다. 블루프린터로 따로 빼서 리소스를 등록하게 하는 것이 편하다.</p>
</blockquote>
<p><img src="/images/unreal-engine-attack-animation-work-log.md/image.webp" alt="alt text"></p>
<h2 id="몽타주-실행-함수"><a href="#몽타주-실행-함수" class="headerlink" title="몽타주 실행 함수"></a>몽타주 실행 함수</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AMyPlayer::AttackStart</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-built_in">PlayAnimMontage</span>(MeleeAttackMontage, <span class="hljs-number">-1.f</span>, <span class="hljs-built_in">FName</span>(<span class="hljs-string">&quot;Default&quot;</span>));<br>&#125;<br></code></pre></td></tr></table></figure>
<p>설정해놓은 몽타주 애니메이션을 재생시킨다.</p>
<h2 id="키-맵핑"><a href="#키-맵핑" class="headerlink" title="키 맵핑"></a>키 맵핑</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++">PlayerInputComponent-&gt;<span class="hljs-built_in">BindAction</span>(<span class="hljs-string">&quot;Attack&quot;</span>, IE_Pressed, <span class="hljs-keyword">this</span>, &amp;AMyPlayer::AttackStart);<br>PlayerInputComponent-&gt;<span class="hljs-built_in">BindAction</span>(<span class="hljs-string">&quot;Attack&quot;</span>, IE_Released, <span class="hljs-keyword">this</span>, &amp;AMyPlayer::AttackEnd);<br></code></pre></td></tr></table></figure>
<p>마우스 키를 눌렸을 때 만들어준 AttackStart 함수를 호출하고 마우스 키를 뗄 떼는 AttackEnd함수를 호출한다. </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AMyPlayer::AttackEnd</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	GEngine-&gt;<span class="hljs-built_in">AddOnScreenDebugMessage</span>(<span class="hljs-number">-1</span>, <span class="hljs-number">5.0f</span>, FColor::Blue, __FUNCTION__);<br>&#125;<br></code></pre></td></tr></table></figure>
<p>AttackEnd는 별 것 없다. 그냥 쉽게 로그를 확인하기 위해서이다.<br><img src="/images/unreal-engine-attack-animation-work-log.md/atk.webp" alt="alt text"><br>뭔가 끝나는 동작이 이상하다. 애니메이션이 검을 내리고 빠르게 원상 복귀가 되는 것이다.</p>
<p>2019&#x2F;11&#x2F;12</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs diff"><span class="hljs-deletion">- PlayAnimMontage(MeleeAttackMontage, -1.f, FName(&quot;Default&quot;));</span><br><span class="hljs-addition">+ PlayAnimMontage(MeleeAttackMontage, +1.f, FName(&quot;Default&quot;));</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>-1.f가 아니라 1로하면 자연스럽게 애니메이션이 재생된다. 난 바보 같이 -1로 한거나….ㅠㅠ</p>
</blockquote>
<h2 id="검에-콜라이더-추가"><a href="#검에-콜라이더-추가" class="headerlink" title="검에 콜라이더 추가."></a>검에 콜라이더 추가.</h2><p>애니메이션이 재생되었다고해도 콜라이더를 붙여서 다른 오브젝트와 충돌 상호작용을 해야한다.</p>
<p>그래서 박스 콜라이더를 붙여보았다.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-built_in">UPROPERTY</span>(VisibleAnywhere, BlueprintReadOnly, Category = Attack)<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">UBoxComponent</span>* MeleeCollisionBox;<br></code></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++">MeleeCollisionBox = <span class="hljs-built_in">CreateDefaultSubobject</span>&lt;UBoxComponent&gt;(<span class="hljs-built_in">TEXT</span>(<span class="hljs-string">&quot;MeleeCollisionBox&quot;</span>));<br>MeleeCollisionBox-&gt;<span class="hljs-built_in">SetupAttachment</span>(RootComponent);<br>MeleeCollisionBox-&gt;<span class="hljs-built_in">SetCollisionProfileName</span>(<span class="hljs-string">&quot;NoCollision&quot;</span>);<br>MeleeCollisionBox-&gt;<span class="hljs-built_in">SetHiddenInGame</span>(<span class="hljs-literal">false</span>);<br></code></pre></td></tr></table></figure>
<p>하지만 원하는 것은 검의 움직임에 따라 같이 콜라이더가 움직이는 것인데 그렇지 않다. ㅠㅠ</p>
<p><a target="_blank" rel="noopener" href="https://youtu.be/IWnSlOmVhTM?list=PLCeaAi_Ah78SEV2Q-iVuFbe6xOtQYH6sH">https://youtu.be/IWnSlOmVhTM?list=PLCeaAi_Ah78SEV2Q-iVuFbe6xOtQYH6sH</a></p>
<p>하지만 그 다음 강좌에 콜라이더를 붙이는 강좌가 있다.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AMyPlayer::BeginPlay</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	Super::<span class="hljs-built_in">BeginPlay</span>();<br>	<span class="hljs-comment">//attach collision components to sockets based on transformation definnate</span><br>	<span class="hljs-function"><span class="hljs-type">const</span> FAttachmentTransformRules <span class="hljs-title">AttackmentRules</span><span class="hljs-params">(EAttachmentRule::SnapToTarget, EAttachmentRule::SnapToTarget, EAttachmentRule::KeepWorld, <span class="hljs-literal">false</span>)</span></span>;<br>	MeleeCollisionBox-&gt;<span class="hljs-built_in">AttachToComponent</span>(<span class="hljs-built_in">GetMesh</span>(), AttackmentRules, <span class="hljs-string">&quot;weapon_r_collison&quot;</span>);<br>	<span class="hljs-built_in">GetCapsuleComponent</span>()-&gt;OnComponentBeginOverlap.<span class="hljs-built_in">AddDynamic</span>(<span class="hljs-keyword">this</span>, &amp;AMyPlayer::OnOverlapBegin);<br>&#125;<br></code></pre></td></tr></table></figure>
<p>부착 규칙을 설정해서 콜라이더를 붙여준다.<br><img src="/images/unreal-engine-attack-animation-work-log.md/image-2.webp" alt="alt text"><br>해당 메시의 스켈레톤의 “weapon_r_collision”의 중심점으로 만든 콜라이더가 붙는다.<br><img src="/images/unreal-engine-attack-animation-work-log.md/attack.webp" alt="alt text"><br>콜라이더가 검의 움직임에 맞춰서 동작하는 것을 볼 수 있다!!!!</p>
<p>상호 작용하는 모습은 다음과 같다.<br><img src="/images/unreal-engine-attack-animation-work-log.md/attack1.webp" alt="alt text"></p>
<h2 id="콤보-공격-만들기"><a href="#콤보-공격-만들기" class="headerlink" title="콤보 공격 만들기"></a>콤보 공격 만들기</h2><p><img src="/images/unreal-engine-attack-animation-work-log.md/image-3.webp" alt="alt text"><br>기획서상에 콤보 공격이 존재한다!!! 앞에서 한 것은 콤보공격을 위한 준비과정일뿐.</p>
<p><a target="_blank" rel="noopener" href="http://joyeeeeeee.blogspot.com/2017/11/unreal491-combo.html">http://joyeeeeeee.blogspot.com/2017/11/unreal491-combo.html</a></p>
<p>콤보 공격의 아이디어를 여기서부터 출발했다. 애니메이션 몽타주를 배열로 만든 다음 콤보 수를 배열의 인덱스로 사용하여 재생시키기로 했다!!!!</p>
<h3 id="몽타주-배열-정의"><a href="#몽타주-배열-정의" class="headerlink" title="몽타주 배열 정의"></a>몽타주 배열 정의</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-built_in">UPROPERTY</span>(EditDefaultsOnly, BlueprintReadOnly, Category = Animation, meta = (AllowPrivateAccess = <span class="hljs-string">&quot;true&quot;</span>))<br>TArray&lt;UAnimMontage * &gt;MeleeAttackMontages;<br></code></pre></td></tr></table></figure>
<p>공격 몽타주를 정의해준다. 언리얼에서는 배열을 <code>TArray</code>로 사용한다.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">static</span> ConstructorHelpers::FObjectFinder&lt;UAnimMontage&gt; <span class="hljs-title">MeleeAttackMontageObject1</span><span class="hljs-params">(TEXT(<span class="hljs-string">&quot;AnimMontage&#x27;/Game/Animation/PrimaryAttack_A_Slow_Montage1.PrimaryAttack_A_Slow_Montage1&#x27;&quot;</span>))</span></span>;<br><span class="hljs-keyword">if</span> (MeleeAttackMontageObject1.<span class="hljs-built_in">Succeeded</span>()) &#123;<br>	MeleeAttackMontages.<span class="hljs-built_in">Add</span>(MeleeAttackMontageObject1.Object);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">static</span> ConstructorHelpers::FObjectFinder&lt;UAnimMontage&gt; <span class="hljs-title">MeleeAttackMontageObject2</span><span class="hljs-params">(TEXT(<span class="hljs-string">&quot;AnimMontage&#x27;/Game/Animation/PrimaryAttack_B_Slow_Montage1.PrimaryAttack_B_Slow_Montage1&#x27;&quot;</span>))</span></span>;<br><span class="hljs-keyword">if</span> (MeleeAttackMontageObject2.<span class="hljs-built_in">Succeeded</span>()) &#123;<br>	MeleeAttackMontages.<span class="hljs-built_in">Add</span>(MeleeAttackMontageObject2.Object);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">static</span> ConstructorHelpers::FObjectFinder&lt;UAnimMontage&gt; <span class="hljs-title">MeleeAttackMontageObject3</span><span class="hljs-params">(TEXT(<span class="hljs-string">&quot;AnimMontage&#x27;/Game/Animation/PrimaryAttack_C_Slow_Montage1.PrimaryAttack_C_Slow_Montage1&#x27;&quot;</span>))</span></span>;<br><span class="hljs-keyword">if</span> (MeleeAttackMontageObject3.<span class="hljs-built_in">Succeeded</span>()) &#123;<br>	MeleeAttackMontages.<span class="hljs-built_in">Add</span>(MeleeAttackMontageObject3.Object);<br>&#125;<br></code></pre></td></tr></table></figure>
<p>몽타주들을 배열에 넣어준다. 그러면 인덱스 값에 따라 몽타주들을 관리할 수 있다!</p>
<p>그 다음 콤보에 대한 설정을 해준다.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//콤보상태인가?</span><br><span class="hljs-type">bool</span> m_bCombo;<br><br><span class="hljs-comment">//콤보 공격 인덱스</span><br><span class="hljs-type">int</span> m_iCombo;<br></code></pre></td></tr></table></figure>
<p>두개의 변수를 만든다. 콤보 상태인가 아닌가를 구분해 줄 bool형 변수와 현재 콤보가 몇 인지 알려주는 변수 2개를 추가했다.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AMyPlayer::AttackStart</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-comment">//지금 콤보상태인지 아닌지 확인해본다.</span><br>	<span class="hljs-keyword">if</span> (m_bCombo) &#123;<br>		m_iCombo = (m_iCombo + <span class="hljs-number">1</span>) % <span class="hljs-number">3</span>;<br>	&#125;<br>	<span class="hljs-keyword">else</span> &#123;<br>		<span class="hljs-comment">//콤보상태가 아닐경우 combo상태로 변환.</span><br>		m_bCombo = <span class="hljs-literal">true</span>;<br>		m_iCombo = <span class="hljs-number">0</span>;<br>	&#125;<br>	<span class="hljs-built_in">PlayAnimMontage</span>(MeleeAttackMontages[m_iCombo], <span class="hljs-number">1.f</span>, <span class="hljs-built_in">FName</span>(<span class="hljs-string">&quot;Default&quot;</span>));<br>&#125;<br></code></pre></td></tr></table></figure>
<p>공격을 했을 때 콤보 상태인지 아닌지를 확인해서 콤보 상태일 경우 콤보를 1증가시키고 아닐 경우에는 콤보 상태로 바꾸고, 콤보를 0으로 초기화시킨다. 그 이후 콤보 애니메이션을 재생시킨다.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AMyPlayer::AttackEnd</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	m_bCombo = <span class="hljs-literal">false</span>; <span class="hljs-comment">//콤보를 취소한다.</span><br>	m_iCombo = <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>AttackEnd함수에서 콤보를 취소시킨다.<br><img src="/images/unreal-engine-attack-animation-work-log.md/attack2.webp" alt="alt text"><br>빠르게 첫 번째 애니메이션만 재생이 된다. ㅠㅠ 그 이유를 알아보니 AttackEnd함수는 마우스를 뗄 떼 콤보랑 콤보 상태가 초기화되기 때문이다. 애니메이션이 종료될 때 AttackEnd함수를 호출해야 한다.</p>
<p>그렇다면 애니메이션이 끝날 때를 판단할 수 있을까?<br><a target="_blank" rel="noopener" href="https://darkcatgame.tistory.com/4">https://darkcatgame.tistory.com/4</a></p>
<p>이 블로그를 참고하여 인터페이스 함수를 제작하고 그 함수를 호출시키는 Anim Notify 제작 후 연동시켰다.</p>
<h3 id="Interface-Class-제작"><a href="#Interface-Class-제작" class="headerlink" title="Interface Class 제작"></a>Interface Class 제작</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// Itf_AnimationNotify.h</span><br><br><span class="hljs-comment">//콤보가 취소될 때 호출</span><br><span class="hljs-built_in">UFUNCTION</span>(BlueprintNativeEvent, BlueprintCallable, Category = <span class="hljs-string">&quot;Itf_AnimState&quot;</span>)<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Itf_ResetCombo</span><span class="hljs-params">()</span></span>;<br></code></pre></td></tr></table></figure>

<p>캐릭터 클래스에서 함수 정의를 해준다. 참고로 캐릭터 클래스는 Itf_AnimationNotify를 상속받아야 한다.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// MyPlayer.h</span><br><br><span class="hljs-comment">//콤보 리셋 메시지 받기.</span><br><span class="hljs-built_in">UFUNCTION</span>(BlueprintNativeEvent, BlueprintCallable, Category = <span class="hljs-string">&quot;Itf_AnimState&quot;</span>)<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Itf_ResetCombo</span><span class="hljs-params">()</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">Itf_ResetCombo_Implementation</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span></span>;<br></code></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// MyPlayer.cpp</span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AMyPlayer::Itf_ResetCombo_Implementation</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	m_bCombo = <span class="hljs-literal">false</span>; <span class="hljs-comment">//콤보를 취소한다.</span><br>	m_iCombo = <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>인터페이스로 만든 함수가 호출 시 이 함수가 호출 될 것이다. 호출이 되면 애니메이션이 끝나게 되는 상황이기 때문에 콤보를 초기화 해준다.<br>그 다음 애니메이션에서 애니메이션이 끝나는 부분에 Interface함수를 호출해야 한다.</p>
<p>그렇게 하기 위해서는 AnimNotify를 만들어 준 후 Anim Notify Blueprint 클래스를 제작해야한다.</p>
<p><img src="/images/unreal-engine-attack-animation-work-log.md/image-4.webp" alt="alt text"></p>
<p>AnimNotify Blueprint 클래스를 제작한다.<br><img src="/images/unreal-engine-attack-animation-work-log.md/image-5.webp" alt="alt text"></p>
<p>Interface함수를 호출하는 노드를 제작한다.<br><img src="/images/unreal-engine-attack-animation-work-log.md/image-6.webp" alt="alt text"></p>
<p>원하는 애니메이션 시점에 만들어준 Notify를 추가하면 된다. 이렇게 해서 끝나는 시점까지 누르지 않으면 콤보가 초기화 되는 조작을 하게 되었다. </p>
<p>그런데 말입니다….<br><img src="/images/unreal-engine-attack-animation-work-log.md/222.webp" alt="alt text"><br>누르는 속도에 따라 엄청나게 빠르게 칼질하는 플레이어의 모습을 볼 수 있다. </p>
<p>이렇게 되는 이유는 마우스 클릭할 때마다 AttackStart()의 애니메이션이 재생되기 때문이다. 자연스러운 동작을 보고 싶으면 애니메이션이 끝날 때 콤보가 있을 경우 다음 애니메이션으로 보여주게 하는 것이다.</p>
<p>그러면 우선 AttackStart부분을 수정해야 한다.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// MyPlayer.cpp</span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AMyPlayer::AttackStart</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-comment">//attack이 true 일 때 클릭하면 </span><br>	<span class="hljs-keyword">if</span> (m_bAttack) &#123;<br>		<span class="hljs-comment">//콤보상태를 true한다.</span><br>		m_bCombo = <span class="hljs-literal">true</span>;<br>	&#125;<br>	<span class="hljs-keyword">else</span> &#123;<span class="hljs-comment">//그렇지 않을 경우 </span><br>		<span class="hljs-comment">//m_bAttack 상태를 true 바꾸고, 콤보도 0으로 바꾸고</span><br>		m_bAttack = <span class="hljs-literal">true</span>; m_iCombo = <span class="hljs-number">0</span>;<br><br>		<span class="hljs-comment">//애니메이션을 재생시킨다.</span><br>		GEngine-&gt;<span class="hljs-built_in">AddOnScreenDebugMessage</span>(<span class="hljs-number">-1</span>, <span class="hljs-number">5.0f</span>, FColor::Blue, __FUNCTION__);<br>		<span class="hljs-built_in">PlayAnimMontage</span>(MeleeAttackMontages[m_iCombo], <span class="hljs-number">1.f</span>, <span class="hljs-built_in">FName</span>(<span class="hljs-string">&quot;Default&quot;</span>));<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><code>m_bAttack</code> 변수를 주어 그것이 <code>true</code>일 때 클릭하는 경우 콤보상태로 바꾸고 그렇지 않을 경우에는 <code>m_bAttack</code> 상태를 <code>true</code>로 바꾼다음 콤보를 0으로 바꿔준다. </p>
<p>그 이유는 <code>m_bAttack</code> 상태가 <code>false</code>인 경우 현재 공격이 아닌 다른 애니메이션이 재생되었다가 공격을 하는 거라서 첫번째 애니메이션이 재생이 되어야 한다. 그래서 <code>m_iCombo</code>를 <code>0</code>으로 초기화한 것이다. </p>
<p>이렇게  <code>m_bAttack</code> 상태를 <code>true</code>로 바꿔서 한번 더 누를 경우 <code>m_bAttack</code>이 <code>true</code>이기 때문에 콤보상태가 <code>true</code>로 바꿔진다.</p>
<p>그 다음 <code>Itf_ResetCombo_Implementation</code>에서 콤보와 애니메이션을 설정 작업을 해준다.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// MyPlayer.cpp</span><br><br><span class="hljs-comment">//콤보가 리셋될 때 호출 됨.</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AMyPlayer::Itf_ResetCombo_Implementation</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	GEngine-&gt;<span class="hljs-built_in">AddOnScreenDebugMessage</span>(<span class="hljs-number">-1</span>, <span class="hljs-number">5.0f</span>, FColor::Red, __FUNCTION__);<br><br>	<span class="hljs-keyword">if</span> (m_bCombo) &#123; <span class="hljs-comment">//콤보 상태일 경우</span><br>		<span class="hljs-comment">//콤보를 1 증가 시킨다.</span><br>		m_iCombo = (m_iCombo + <span class="hljs-number">1</span>) % <span class="hljs-number">3</span>;<br>		<span class="hljs-comment">//다음 애니메이션을 재생시킨다.</span><br>		<span class="hljs-built_in">PlayAnimMontage</span>(MeleeAttackMontages[m_iCombo], <span class="hljs-number">1.f</span>, <span class="hljs-built_in">FName</span>(<span class="hljs-string">&quot;Default&quot;</span>));<br>	&#125;<br>	<span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">//콤보 상태가 아닐 경우</span><br>		m_bAttack = <span class="hljs-literal">false</span>; <span class="hljs-comment">//공격 상태를 false로 한다.</span><br>		m_bCombo = <span class="hljs-literal">false</span>; <span class="hljs-comment">//콤보를 취소한다.</span><br>		m_iCombo = <span class="hljs-number">0</span>; <span class="hljs-comment">//0으로 초기화한다.</span><br>	&#125;<br><br>	m_bCombo = <span class="hljs-literal">false</span>; <span class="hljs-comment">//콤보 상태를 해제 시킨다.</span><br>&#125;<br></code></pre></td></tr></table></figure>
<p>그 후 애니메이션이 설정한 시간을 도달하게 되면 함수가 호출된다. 우선 콤보상태일 경우 콤보를 하나 더 증가시킨다.(애니메이션이 종료되기 전에 공격 키를 눌려 콤보를 유지시켰기 때문에) 그 후 증가시킨 인덱스의 애니메이션을 재생시킨다.</p>
<p>콤보상태가 아닐 경우 설정해둔 변수들을 초기화 시켜준다.(공격이 계속 진행되는 상황이라도 그 공격 애니메이션이 콤보 종료 상태가 들어가기 전에는 한 번 더 조작키를 눌려줘야지 콤보로 인식하기 때문이다.)</p>
<p>그 후 <code>m_bCombo</code>는 무조건 초기화를 해줘야한다.<br><img src="/images/unreal-engine-attack-animation-work-log.md/333.webp" alt="alt text"></p>
<p>이렇게 아무리 빨리 눌려도 애니메이션이 끝나야지 다음 애니메이션으로 넘어가게 만들었다. 자연스러운 애니메이션 동작이 확인가능하게 되었다. 짝짝짝-</p>
<h2 id="여담"><a href="#여담" class="headerlink" title="여담"></a>여담</h2><p>2023.02.29</p>
<p>오랜만에 옛날 자료를 보다가 잘 정리된 자료를 찾았습니다. 졸업과제 하면서 시행착오도 거치고, 많이 공부했다는 것이 보이네요. 옛날 자료이기는 하지만 누군가가 보고 도움이 되기를 바라면 백업을 해두겠습니다.</p>
      
    </div>

    





    
<div class="post-tags">
  
  <a href="/tags/ue4/" rel="tag"># ue4</a>
  
  <a href="/tags/animation/" rel="tag"># animation</a>
  
  <a href="/tags/game/" rel="tag"># game</a>
  
</div>


    
        

    
    <footer class="post-footer">
      
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2024/02/23/management-with-circular-queue/" rel="prev" title="메모리 문제 해결하기">
      <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-left" class="svg-inline--fa fa-chevron-left icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"></path></svg>
      메모리 문제 해결하기
    </a></div>
      <div class="post-nav-item">
    <a href="/2024/04/10/github-issue-new-branch-bash-alias/" rel="next" title="GitHub Issue를 기반으로 새 브랜치 생성하기 - Alias 활용 방법">
      GitHub Issue를 기반으로...
      <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-right" class="svg-inline--fa fa-chevron-right icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"></path></svg>
    </a></div>
    </div>    </footer>
    
  </div>
</article>
</div>
        </div>
        




<div class="card comment-body  active"><script src="https://giscus.app/client.js"
  data-repo="keea/keea.github.io"
  data-repo-id="R_kgDOKd9Xlg"
  data-category="Comments"
  data-category-id="DIC_kwDOKd9Xls4CZ-0E"
  data-mapping="pathname"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="bottom"
  data-theme="preferred_color_scheme"
  data-lang="ko"
  crossorigin="anonymous"
  async>
</script></div>



      </main>

      <footer class="footer">
        <div>
          <div class="copyright">
  
  &copy; 
  <span>2025</span>
  <span class="with-love">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="heart" class="svg-inline--fa fa-heart icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"></path></svg>
    <i class="[object Object]"></i>
  </span>
  <span class="author">keea</span>
</div>

<div class="powered-by">
  Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v7.0.0
</div>

<span class="post-meta-divider">|</span>

<div class="theme-info">
  Theme – <a href="https://github.com/JiangTJ/hexo-theme-cake" class="theme-link" rel="noopener" target="_blank">Cake</a> v4.0.0
</div>

        </div>
      </footer>

    </div>

  </div>

  <div class="search-popup">
  <div class="search-header">
    <span class="search-icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg></span>
    <div class="search-input-container">
      <input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Searching..."
        spellcheck="false" type="text" id="search-input">
    </div>
    <span class="popup-btn-close"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times-circle" class="svg-inline--fa fa-times-circle icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"></path></svg></span>
  </div>
  <div id="search-result"></div>
</div>
<div class="search-pop-overlay"></div>
<div class="moon-menu">
  <div class="moon-menu-items">
    
    <div id="moon-menu-item-back2bottom" class="moon-menu-item">
      <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-down" class="svg-inline--fa fa-chevron-down icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"></path></svg>    </div>
    
    <div id="moon-menu-item-back2top" class="moon-menu-item">
      <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-up" class="svg-inline--fa fa-chevron-up icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"></path></svg>    </div>
    
  </div>
  <div class="moon-menu-button">
    <svg class="moon-menu-bg">
      <circle class="moon-menu-cricle" cx="50%" cy="50%" r="44%"></circle>
      <circle class="moon-menu-border" cx="50%" cy="50%" r="48%"></circle>
    </svg>
    <div class="moon-menu-content">
      <div class="moon-menu-icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="ellipsis-v" class="svg-inline--fa fa-ellipsis-v icon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512"><path fill="currentColor" d="M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"></path></svg></div>
      <div class="moon-menu-text"></div>
    </div>
  </div>
</div><script src="/js/injector.js"></script>
</body>

</html>
